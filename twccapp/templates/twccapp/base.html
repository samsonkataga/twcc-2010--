<!-- twccapp/templates/twccapp/base.html -->
{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TWCC - {% block title %}{% endblock %}</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<!-- In head -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

<!-- Before </body> -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<!-- Bootstrap Icons -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">


<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Add this in your <head> -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="{% static 'twccapp/css/style.css' %}">
</head>
<body>
    {% include 'twccapp/navbar.html' %}
    
<!-- Message display section -->
    {% if messages %}
    <div class="message-container">
        {% for message in messages %}
        <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
            <div class="d-flex align-items-center">
                {% if message.tags == 'success' %}
                <i class="bi bi-check-circle-fill me-2"></i>
                {% elif message.tags == 'error' %}
                <i class="bi bi-exclamation-triangle-fill me-2"></i>
                {% elif message.tags == 'warning' %}
                <i class="bi bi-exclamation-circle-fill me-2"></i>
                {% elif message.tags == 'info' %}
                <i class="bi bi-info-circle-fill me-2"></i>
                {% endif %}
                <div>{{ message }}</div>
            </div>
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
        {% endfor %}
    </div>
    {% endif %}


    <main>
        {% block content %}
        {% endblock %}
    </main>
    
    {% include 'twccapp/footer.html' %}

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Custom JS -->
    <script src="{% static 'twccapp/js/main.js' %}"></script>
</body>


<script>
document.addEventListener('DOMContentLoaded', function() {
  // Configuration for each counter
  const counters = [
    { id: 'projects-count', target: 20, prefix: '', suffix: '+', duration: 2000 },
    { id: 'funding-count', target: 5, prefix: '', suffix: 'M+', duration: 2500 },
    { id: 'offices-count', target: 27, prefix: '', suffix: '', duration: 1500 },
    { id: 'team-count', target: 20, prefix: '', suffix: 'k+', duration: 3000 }
  ];

  // Function to animate counting
  function animateCounters() {
    counters.forEach(counter => {
      const element = document.getElementById(counter.id);
      const start = 0;
      const increment = counter.target / (counter.duration / 16); // 60fps
      let current = start;
      
      const timer = setInterval(() => {
        current += increment;
        if (current >= counter.target) {
          clearInterval(timer);
          current = counter.target;
        }
        
        // Format number (remove decimals for whole numbers)
        let displayNum;
        if (counter.id === 'funding-count' || counter.id === 'team-count') {
          displayNum = Math.floor(current);
        } else {
          displayNum = current.toFixed(current % 1 !== 0 ? 1 : 0);
        }
        
        element.textContent = counter.prefix + displayNum + counter.suffix;
      }, 16);
    });
  }

  // Only start counting when section is in view
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        animateCounters();
        observer.unobserve(entry.target);
      }
    });
  }, { threshold: 0.5 });

  observer.observe(document.querySelector('.py-5.bg-light'));
});
</script>

<!-- Bootstrap JS Bundle with Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<script>
document.addEventListener('DOMContentLoaded', function() {
    console.log('Bootstrap dropdown test:');
    console.log('Dropdown toggles:', document.querySelectorAll('[data-bs-toggle="dropdown"]'));
    
    var dropdowns = [].slice.call(document.querySelectorAll('.dropdown-toggle'));
    dropdowns.forEach(function (dropdownToggle) {
        dropdownToggle.addEventListener('click', function() {
            console.log('Dropdown clicked!');
        });
    });
});
</script>
  <script>
        const mainText = "Tanzania Women Chamber of Commerce";
        const subText = "For Empowering Women in Business";
        let mainIndex = 0;
        let subIndex = 0;
        let isMainComplete = false;
        
        function typeWriter() {
            if (mainIndex < mainText.length) {
                document.getElementById("typing-text").textContent += mainText.charAt(mainIndex);
                mainIndex++;
                setTimeout(typeWriter, 100); // Typing speed (milliseconds)
            } else if (!isMainComplete) {
                isMainComplete = true;
                setTimeout(typeWriter, 500); // Pause before starting subtext
            } else if (subIndex < subText.length) {
                document.getElementById("typing-subtext").textContent += subText.charAt(subIndex);
                subIndex++;
                setTimeout(typeWriter, 100); // Typing speed (milliseconds)
            } else {
                // Animation complete - remove cursors
                document.getElementById("typing-text").style.borderRight = "none";
                document.getElementById("typing-subtext").style.borderRight = "none";
                
                // Restart animation after 3 seconds
                setTimeout(resetAnimation, 3000);
            }
        }
        
        function resetAnimation() {
            mainIndex = 0;
            subIndex = 0;
            isMainComplete = false;
            document.getElementById("typing-text").textContent = "";
            document.getElementById("typing-subtext").textContent = "";
            document.getElementById("typing-text").style.borderRight = "3px solid blue";
            document.getElementById("typing-subtext").style.borderRight = "3px solid green";
            typeWriter();
        }
        
        // Start the animation when page loads
        window.onload = typeWriter;
    </script>




</html>